<app-appbar></app-appbar>

<div class="main-syllabus">

    <div class="main_title_btnCreateModule">
        <p class="title_syllabus-course m-2">Программа курса </p>
        <button title="Добавить новый модуль в программу курса" tuiButton type="button" appearance="primary" class="m-3"
            size="s" (click)="openPageCreateModule()">
            <tui-svg src="tuiIconPlus" class="icon-edit"></tui-svg>
            Новый модуль
        </button>
    </div>

    <tui-loader class="inline-flex tui-space_right-2" [showLoader]="loading" [inheritColor]="true" [overlay]="true">

    </tui-loader>

    <ng-template [ngIf]="noneModules">
        <p class="m-2">В курсе пока что нет ни одного модуля. <br> Добавьте свой первый модуль. </p>
    </ng-template>

    <div class="cards-modules" *ngFor="let item of MODULES; let index = index">
        <div class="card-module">
            <a tuiIsland [hoverable]="true" class="info-course m-2">
                <div>
                    <span style="font-size: 22px;" class="m-3">{{index+1}}. {{item.name}}</span>
                </div>
                <button title="Отредактировать" tuiButton type="button" appearance="flat" class="btn-edit-module m-2"
                   >
                    <tui-svg src="tuiIconEdit3Large" class="icon-edit"></tui-svg>
                </button>

            </a>
          <div>
            <app-create-lessons-module></app-create-lessons-module>
          </div>
          <div *ngFor="let lesson of LESSONS[index]; let lessonIndex = index" class = "info-course-lesson">

            <tui-island class = "card-lesson m-2">
              <span class = "lesson tui-space_left-5" style="font-size: 18px">{{index + 1}}.{{lessonIndex+1}} {{lesson.text}}</span>
              <a title="Редактировать урок в модуле {{item.name}}" routerLink="/login" tuiLink> Редактировать </a>
            </tui-island>


          </div>

        </div>
    </div>
</div>

<ng-template [tuiDialogOptions]="{label: 'Создание модуля', size: 'm'}" [(tuiDialog)]="dialogCreateModule" let-observer>
    <app-create-module-course></app-create-module-course>
</ng-template>

