<app-appbar></app-appbar>
<tui-loader [showLoader]="loader"></tui-loader>

<div class="main-content" *ngIf="!loader">
  <div class="course-promo_head" >
    <div class="course-promo_head-content">
      <h1 class="course-promo_head-title p-3">{{current_course.name}}</h1>
      <div class="course-promo_head-description p-3"> {{current_course.description}}</div>
    </div>
  </div>

  <div class="course-promo_main">
    <div class="col course-promo_program p-2">
      <h2 class="m-3">Чему вы научитесь?</h2>
      <div class=" m-3">
        <ul class="tui-list tui-list_large m-2 fs-6" *ngFor="let item of current_modules">
          <li class="tui-list__item">{{item.name}}</li>
        </ul>
      </div>
    </div>
    <div class="course-promo_btn-start p-2">

      <h4 class="m-3">Бесплатно</h4>

       <ng-template [ngIf]="!joinOk">
         <button (click)="joinCourse()" title="Записаться на курс" size="m" tuiButton type="button" class="m-2">
         Начать
         </button>
       </ng-template>

        <ng-template [ngIf]="joinOk">
          <button (click)="resumeCourse(current_course.idCourse)"  title="Записаться на курс" size="m" tuiButton type="button" class="m-2">
          Продолжить
          </button>
        </ng-template>

      <ng-template [ngIf]="!isFavourite">
        <button title="Добавить в избранное" (click)="addCourseFavourite(current_course.idCourse)"
                size="m" tuiButton type="button" appearance="outline" class="m-2 btn-add_like">
          <tui-svg src="tuiIconHeartLarge" class="icon-add m-1"></tui-svg>
        </button>
      </ng-template>

      <ng-template [ngIf]="isFavourite">
        <button title="Убрать в избранное" (click)="trashCourseFavourite(current_course.idCourse)"
                size="m" tuiButton type="button" appearance="outline" class="m-2 btn-trash_like">
          <tui-svg  src="tuiIconHeartLarge" class="icon-trash m-1"></tui-svg>
        </button>
      </ng-template>

      <h5 class="m-2">Учиться можно сразу</h5>
    </div>
  </div>
</div>
